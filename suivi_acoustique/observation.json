{
  "cruved": { "C": 1, "U": 1, "D": 3 },
  "display_properties": [
    "heure_obs",
    "cd_nom",
    "liste_cd_nom",
    "count_min",
    "count_max",
    "score"
  ],
  "display_list": ["heure_obs", "cd_nom", "liste_cd_nom", "count_min", "count_max", "score"],
  "map_label_field_name": "base_site_code",
  "redirect_to_parent": true,
  "specific": {
    "heure_obs": {
        "type_widget": "time",
        "attribut_label": "Heure à laquelle l'individu est contacté.",
        "required":true,
        "multiple": false
      },
     "cd_nom": {
      "type_widget": "taxonomy",
      "attribut_label": "Espèces observées",
      "keyValue": "cd_nom",
      "keyLabel": "__MODULE.TAXONOMY_DISPLAY_FIELD_NAME",
      "multiple": false,
      "api": "taxref/allnamebylist/__MODULE.ID_LIST_TAXONOMY",
      "application": "TaxHub",
      "type_util": "taxonomy",
      "required": true
    },
    "liste_cd_nom": {
        "type_widget": "multiselect",
        "attribut_label": "Liste des codes des taxons possibles dans le cas d'un cadavre pour laquelle une identification dans le champs cdNom ne serait possible qu'à la famille.",
        "keyValue": "cd_nom",
        "keyLabel": "__MODULE.TAXONOMY_DISPLAY_FIELD_NAME",
        "multiple": true,
        "api": "taxref/allnamebylist/__MODULE.ID_LIST_TAXONOMY",
        "application": "TaxHub",
        "type_util": "taxonomy",
        "required": true
      },
   "count_min": {
      "type_widget": "number",
      "attribut_label": "Dénombrement (minimum)",
      "min": 0,
      "value": 0,
      "required": "({value}) => return (value.presence_cadavre?.includes('1'))",
      "hidden": "({value}) => return (!value.presence_cadavre?.includes('1'))"
    },
    "count_max": {
      "type_widget": "number",
      "attribut_label": "Dénombrement (maximum)",
      "min": "({value}) => value.count_min",
      "required": "({value}) => return (value.presence_cadavre?.includes('1'))",
      "hidden": "({value}) => return (!value.presence_cadavre?.includes('1'))"
    },
    "score": {
      "hidden": true,
      "type_widget": "number",
        "attribut_label": "Indice de confiance fourni par le logiciel d'identification automatique.",
        "definition": "Fournir l'indice de confiance associé à la séquence. L'indice doit être compris entre 0 et 1, ainsi pour les logiciels fournissant un indice compris entre 0 et 10 par exemple, l'indice doit être divisé par 10.",
        "required": false
    }
  }
}
